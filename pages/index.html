<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Fsh Link</title>
    <meta property="og:title" content="Fsh Link">
    <meta name="twitter:title" content="Fsh Link">
    <meta name="description" content="Fsh Link, free online link shortener.">
    <meta property="og:description" content="Fsh Link, free online link shortener.">
    <meta name="twitter:description" content="Fsh Link, free online link shortener.">
    <link rel="canonical" href="https://link.fsh.plus">
    <meta property="og:url" content="https://link.fsh.plus">
    <!-- ------- -->
    <meta charset="UTF-8">
    <meta name="robots" content="index, follow">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://link.fsh.plus/favicon.ico" type="image/vnd.microsoft.icon">
    <meta property="og:image" content="https://link.fsh.plus/favicon.ico">
    <meta property="og:image:alt" content="Fsh Link logo">
    <meta name="twitter:image" content="https://link.fsh.plus/favicon.ico">
    <meta name="theme-color" content="#a89c9b">
    <!-- ------- -->
    <link rel="stylesheet" href="https://fsh.plus/media/style.css">
    <script src="https://account.fsh.plus/script.js"></script>
    <!-- ------------------ -->
    <style>
      body {
        text-align: center;
      }
      fieldset {
        border-radius: 0.5rem;
      }
    </style>
  </head>
  <body>
    <a href="https://fsh.plus">
      <table class="title">
        <tr>
          <td><video src="https://fsh.plus/fsh.webm" playsinline autoplay muted loop width="100" alt="Spining low quality fish"></video></td>
          <td><h1>Fsh</h1></td>
        </tr>
      </table>
    </a>
    <h2 style="margin-top:-20px">Link</h2>
    <br>
    <p>Make links shorter with fsh link</p>
    <p id="res"></p>
    <input placeholder="url" type="url" id="url"><button onclick="short()">Shorten</button>
    <div style="display:flex;align-items:start;margin:0 auto;width:fit-content;gap:20px;text-align:left;">
      <fieldset style="width:fit-content">
        <legend>Expiration</legend>
        <div>
          <input type="radio" id="never" name="time" value="0" checked="">
          <label for="never">Never</label>
        </div>
        <div>
          <input type="radio" id="10m" name="time" value="600">
          <label for="10m">10 Minutes</label>
        </div>
        <div>
          <input type="radio" id="1h" name="time" value="3600">
          <label for="1h">1 Hour</label>
        </div>
        <div>
          <input type="radio" id="1d" name="time" value="86400">
          <label for="1d">1 Day</label>
        </div>
        <div>
          <input type="radio" id="1w" name="time" value="604800">
          <label for="1w">1 Week</label>
        </div>
        <div>
          <input type="radio" id="1m" name="time" value="2592000">
          <label for="1m">1 Month</label>
        </div>
      </fieldset>
      <fieldset style="width:fit-content">
        <legend>Max uses</legend>
        <label for="uses">Uses: Infinite</label>
        <br>
        <input type="range" id="uses" name="uses" value="0" max="100" min="0" onchange="updateuses(this)" oninput="updateuses(this)">
      </fieldset>
    </div>
    <script>
      function short() {
        fetch(`/create?url=${encodeURIComponent(document.getElementById('url').value)}&time=${Number(document.querySelector('input[name="time"]:checked').value)}&uses=${Number(document.getElementById('uses').value)}`, { method: 'POST' })
          .then(async data => {
            data = await data.json();
            document.getElementById('res').innerHTML = data.err?
            `Error!<br>${data.msg}`:
            `<a href="${data.url}" target="_blank">${data.url}</a><button onclick="navigator.clipboard.writeText('${data.url}')" style="border:none"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 256 256"><rect x="88.5" y="88.5" width="155" height="155" rx="17.5" stroke-width="25" fill="none"/><rect width="180" height="180" rx="30"/></svg></button>`;
          });
      }
      function updateuses(that) {
        document.querySelector('label[for="uses"]').innerHTML = `Uses: ${that.value == 0 ? 'Infinite': that.value}`;
      }
    </script>
  </body>
</html>